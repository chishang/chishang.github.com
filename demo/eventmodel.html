<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />

		<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
		Remove this if you use the .htaccess -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

		<title>eventmodel</title>
		<meta name="description" content="" />
		<meta name="author" content="chishang.lcw" />

		<meta name="viewport" content="width=device-width; initial-scale=1.0" />

		<!-- Replace favicon.ico & apple-touch-icon.png in the root of your domain and delete these references -->
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="apple-touch-icon" href="/apple-touch-icon.png" />
		<link rel="stylesheet" href="http://a.tbcdn.cn/??p/global/1.0/global-min.css,app/dp/s/html5/css/common-min.css?t=2012121220100214.css" />
		<style type="text/css">
			.demo-box,#note{
				width:900px;
				margin:10px auto;
				border: 1px solid #ccc;
				padding: 20px;
			}
			#note{
				width:940px;
				padding: 0;
				text-align: center;
			}
			p,span{
				display:block;
				padding: 20px;
				border: 1px solid #ccc;
			}
			 
			 
		</style>
	</head>

	<body>
		<div class="demo-box">
			div
			 <p>
			 	p
			 	<span>
			 		span
			 		<a href="#">a</a>
			 		
			 		<input type="text"  value="我是input">
			 		<select >
			 			<option value="1">1</option>
			 			<option value="2">2</option>
			 		</select>
			 		
					<input class="event" type="button" data-events="firechange" value="模拟select的change事件" />
			 	</span>
			 </p>
		</div>
		
		
		<table id="note" class="event" data-events="clear">
			<thead>
				<tr>
				<th>事件名称</th>
				<th>事件阶段</th>
				<th>触发元素</th>
				<th>来源元素</th>
				</tr>
			</thead>
			<tbody id="tbody">
				
			</tbody>
		</table>
		
		<script type="text/javascript" src="http://a.tbcdn.cn/s/kissy/1.3.0/kissy-min.js"></script>
		<script>
			KISSY.use("sizzle",function(S){
				var doms = S.all("*");
				var noteBox = S.one("#tbody");
				var listTpl = '<tr><td>{type}</td><td>{eventPhase}</td><td>{currentTarget}</td><td>{target}</td></tr>';
				doms.on('click change blur focus',function(e){
					
						var obj = {
							type:e.type ,
							eventPhase:e.eventPhase ,
							currentTarget:e.currentTarget.tagName ,
							target:e.target.tagName 
						};
						var list = S.substitute(listTpl,obj);
						noteBox.append(list);
				});
				S.all('.event').on('click',function(e){
					e.halt();
					var node = S.one(e.currentTarget),
					events = node.attr('data-events');
					switch(events){
						case "firechange":
							S.all('select').fire('change');break;
						case 'clear':
						noteBox.html('');
						default :
						break;
					}
				});
			});
		</script>
	</body>
</html>
